<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>Abstraction Model</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00252.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00300.html" target="topic">USB Libraries Help</a> &gt; <a href="00207.html" target="topic">USB Device Libraries</a> &gt; <a href="00236.html" target="topic">USB HID Device Library</a> &gt; <a href="00266.html" target="topic">Using the Library</a> &gt; <a href="00252.html" target="topic">Abstraction Model</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony USB Stack </div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00181.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00266.html" target="topic">Previous</a> | <a href="00266.html" target="topic">Up</a> | <a href="00261.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: USB HIDDEV Architecture Overview Topic Title: Abstraction Model)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Abstraction Model</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
The HID Function Driver offers services to a USB HID device to communicate with the host by abstracting the HID specification details. It must be used along with the USB Device Layer and USB Controller Driver to communicate with the USB Host. Figure 1 shows a block diagram of the MPLAB Harmony USB Architecture and where the HID Function Driver is placed. </p><p class="Element10" style="text-align: center;">
<strong>Figure 1: HID Function Driver</strong>&nbsp;</p>
<p class="Element10">
The HID Function Driver together with USB Device Layer and the USB Controller Driver forms the basic library entity through which a HID device can communicate with the USB Host. The USB Controller Driver takes the responsibility of managing the USB peripheral on the device. The USB Device Layer handles the device enumeration, etc. The USB Device<span style="color: #FFFFFF">_</span>layer forwards all HID-specific control transfers to the HID Function Driver. The HID Function Driver interprets the control transfers and requests application's intervention through event handlers and a well-defined set of API functions. The application must register a event handler with the HID Function Driver in the Device Layer Set Configuration Event. While the application must respond to the HID Function Driver events, it can do this either in the HID Function Driver event handler or after the event handler routine has returned. The application interacts with HID Function Driver routines to send and receive HID reports over the USB.&nbsp;</p>
<p class="Element10">
Figure 2 shows the architecture of the HID Function Driver. The HID Function Driver maintains the state of each instance. It receives HID class-specific control transfers from the USB Device Layer. Class-specific control transfers that require application response are forwarded to the application as function driver events. The application responds to these class specific control transfer event by directly calling Device Layer control transfer routines. Depending on the type of device, the HID Function Driver can use the control endpoint and/or interrupt endpoints for data transfers. The USB HID Device Driver exchanges data with the Host through data objects called reports. The report data format is described by the HID report descriptor, which is provided to the Host when requested. Refer to the HID specification available from <a href="#" onclick="openExternalLink('http://www.usb.org');"><img src="indicator_external_link.gif" border="0" alt="" title="">www.usb.org</a> for more details on the USB HID Device class and how report descriptors can be created. The HID Function Driver allows report descriptors to be specified for every instance. This allow the application to implement a composite HID device. </p><p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<strong>Figure 2: Architecture of the HID Function Driver</strong>&nbsp;</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00300.html" target="topic">USB Libraries Help</a> &gt; <a href="00207.html" target="topic">USB Device Libraries</a> &gt; <a href="00236.html" target="topic">USB HID Device Library</a> &gt; <a href="00266.html" target="topic">Using the Library</a> &gt; <a href="00252.html" target="topic">Abstraction Model</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony USB Stack </div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00181.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00266.html" target="topic">Previous</a> | <a href="00266.html" target="topic">Up</a> | <a href="00261.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: USB HIDDEV Architecture Overview Topic Title: Abstraction Model)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>