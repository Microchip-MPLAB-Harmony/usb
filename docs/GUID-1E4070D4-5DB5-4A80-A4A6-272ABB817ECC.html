<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" data-whc_version="24.1">
    <head><link rel="shortcut icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><link rel="icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="The application can use the USB_HOST_CDC_Read and USB_HOST_CDC_Write functions to transfer data to the attached CDC device. While calling these function, the client handle specifies the target CDC ..."/><meta name="copyright" content="(C) Copyright 2024"/><meta name="generator" content="DITA-OT"/><title>3.4.2.3.5 Reading and Writing Data</title><!--  Generated with Oxygen version 24.1, build number 2022062014.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC-d5029e4495"/><meta name="wh-source-relpath" content="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC.xml"/><meta name="wh-out-relpath" content="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2022062014"/>
    
    
    <script src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/microchip.css?buildId=2022062014"/><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/notes.css?buildId=2022062014"/>
<script src="mchp-context-help.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async="" type="text/javascript"></script>
    <script src="https://assets.adobedtm.com/6a72a357eb48/a636c708c7fe/launch-0b0023397020.min.js"></script><!-- Adobe Analytics -->
</head>

    <body id="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="index.html" class=" wh_logo d-none d-sm-block "><img src="oxygen-webhelp\template\resources/images/microchip.png" alt="MPLAB® Harmony 3 USB Library &#xA;    "/></a>
                    <div class=" wh_publication_title "><a href="index.html">MPLAB® Harmony 3 USB Library 
    </a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div class="d-flex justify-contents-around"><div class="flex-grow-1"></div><div class="position-relative flex-grow-1"><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div><div class="align-self-center flex-grow-1 ml-2"></div></div></form>
            
            <div class="mchp-color-stripe-grid-container">
  <div class="mchp-main-bar mchp-orange-bar"></div>
  <div class="mchp-main-bar mchp-blue-bar"></div>
  <div class="mchp-main-bar mchp-green-bar"></div>
</div>
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><div class="topicref" data-id="GUID-B14EBEC0-7590-4740-800B-6CE5FE9AB121"><div class="title"><a href="GUID-B14EBEC0-7590-4740-800B-6CE5FE9AB121.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3</ph>
USB Host Libraries</a></div></div></li><li><div class="topicref" data-id="GUID-4273EAEC-C39B-4508-9468-09E5B46D6028"><div class="title"><a href="GUID-4273EAEC-C39B-4508-9468-09E5B46D6028.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4</ph>
USB CDC Host Library</a></div></div></li><li><div class="topicref" data-id="GUID-7ABB9990-2ED9-4BA2-B5E2-4E03BEF05846"><div class="title"><a href="GUID-7ABB9990-2ED9-4BA2-B5E2-4E03BEF05846.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2</ph>
Using the Library</a></div></div></li><li><div class="topicref" data-id="GUID-C03B56B7-336E-4538-8147-A1E241A591A4"><div class="title"><a href="GUID-C03B56B7-336E-4538-8147-A1E241A591A4.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.3</ph>
How the Library Works</a></div></div></li><li class="active"><div class="topicref" data-id="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC"><div class="title"><a href="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.3.5</ph>
Reading and Writing Data</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            <div class="row" style="margin-top: -1em;"><div class="col-lg-9 col-md-9 col-sm-12 offset-lg-3 offset-md-3 text-right border-bottom mb-1"><h2 class="text-dark header_title">
    </h2></div></div>
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-D9F90103-F97D-468D-90FC-EA3E186842D9-d5029e11" class="topicref" data-id="GUID-D9F90103-F97D-468D-90FC-EA3E186842D9" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-D9F90103-F97D-468D-90FC-EA3E186842D9-d5029e11-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-D9F90103-F97D-468D-90FC-EA3E186842D9.html" id="GUID-D9F90103-F97D-468D-90FC-EA3E186842D9-d5029e11-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
Release Information</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-61902145-0FA6-4DE3-845C-B14852166EAE-d5029e27" class="topicref" data-id="GUID-61902145-0FA6-4DE3-845C-B14852166EAE" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-61902145-0FA6-4DE3-845C-B14852166EAE-d5029e27-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-61902145-0FA6-4DE3-845C-B14852166EAE.html" id="GUID-61902145-0FA6-4DE3-845C-B14852166EAE-d5029e27-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">2</ph>
USB Device Libraries</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-B14EBEC0-7590-4740-800B-6CE5FE9AB121-d5029e3093" class="topicref" data-id="GUID-B14EBEC0-7590-4740-800B-6CE5FE9AB121" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-B14EBEC0-7590-4740-800B-6CE5FE9AB121-d5029e3093-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-B14EBEC0-7590-4740-800B-6CE5FE9AB121.html" id="GUID-B14EBEC0-7590-4740-800B-6CE5FE9AB121-d5029e3093-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3</ph>
USB Host Libraries</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-2F779E49-9296-4BEB-9B6D-019A12090DE4-d5029e3101" class="topicref" data-id="GUID-2F779E49-9296-4BEB-9B6D-019A12090DE4" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-2F779E49-9296-4BEB-9B6D-019A12090DE4-d5029e3101-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2F779E49-9296-4BEB-9B6D-019A12090DE4.html" id="GUID-2F779E49-9296-4BEB-9B6D-019A12090DE4-d5029e3101-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.1</ph>
USB Host Library - Getting Started</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-E75A23B7-0D61-4FDF-985D-38E27384C150-d5029e3133" class="topicref" data-id="GUID-E75A23B7-0D61-4FDF-985D-38E27384C150" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-E75A23B7-0D61-4FDF-985D-38E27384C150-d5029e3133-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-E75A23B7-0D61-4FDF-985D-38E27384C150.html" id="GUID-E75A23B7-0D61-4FDF-985D-38E27384C150-d5029e3133-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.2</ph>
USB Host Layer Library</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-AD0B8FFD-F150-4FEA-9807-E562DFFF40B3-d5029e3656" class="topicref" data-id="GUID-AD0B8FFD-F150-4FEA-9807-E562DFFF40B3" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-AD0B8FFD-F150-4FEA-9807-E562DFFF40B3-d5029e3656-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-AD0B8FFD-F150-4FEA-9807-E562DFFF40B3.html" id="GUID-AD0B8FFD-F150-4FEA-9807-E562DFFF40B3-d5029e3656-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.3</ph>
USB Audio v1.0 Host Client Driver Library</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-4273EAEC-C39B-4508-9468-09E5B46D6028-d5029e4415" class="topicref" data-id="GUID-4273EAEC-C39B-4508-9468-09E5B46D6028" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-4273EAEC-C39B-4508-9468-09E5B46D6028-d5029e4415-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-4273EAEC-C39B-4508-9468-09E5B46D6028.html" id="GUID-4273EAEC-C39B-4508-9468-09E5B46D6028-d5029e4415-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4</ph>
USB CDC Host Library</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="GUID-BC26A156-E4A5-43C9-8EA0-B265DE8A7E22-d5029e4423" class="topicref" data-id="GUID-BC26A156-E4A5-43C9-8EA0-B265DE8A7E22" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-BC26A156-E4A5-43C9-8EA0-B265DE8A7E22.html" id="GUID-BC26A156-E4A5-43C9-8EA0-B265DE8A7E22-d5029e4423-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.1</ph>
Introduction</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-7ABB9990-2ED9-4BA2-B5E2-4E03BEF05846-d5029e4431" class="topicref" data-id="GUID-7ABB9990-2ED9-4BA2-B5E2-4E03BEF05846" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-7ABB9990-2ED9-4BA2-B5E2-4E03BEF05846-d5029e4431-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-7ABB9990-2ED9-4BA2-B5E2-4E03BEF05846.html" id="GUID-7ABB9990-2ED9-4BA2-B5E2-4E03BEF05846-d5029e4431-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2</ph>
Using the Library</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="GUID-62E1104C-CCD8-4B9A-A67D-0C8071D7BC05-d5029e4439" class="topicref" data-id="GUID-62E1104C-CCD8-4B9A-A67D-0C8071D7BC05" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-62E1104C-CCD8-4B9A-A67D-0C8071D7BC05.html" id="GUID-62E1104C-CCD8-4B9A-A67D-0C8071D7BC05-d5029e4439-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.1</ph>
Abstraction Model</a></div></div></li><li role="treeitem"><div data-tocid="GUID-19276168-DB61-421F-8575-256C8F4BA68C-d5029e4447" class="topicref" data-id="GUID-19276168-DB61-421F-8575-256C8F4BA68C" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-19276168-DB61-421F-8575-256C8F4BA68C.html" id="GUID-19276168-DB61-421F-8575-256C8F4BA68C-d5029e4447-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.2</ph>
Library Overview</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="GUID-C03B56B7-336E-4538-8147-A1E241A591A4-d5029e4455" class="topicref" data-id="GUID-C03B56B7-336E-4538-8147-A1E241A591A4" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action GUID-C03B56B7-336E-4538-8147-A1E241A591A4-d5029e4455-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-C03B56B7-336E-4538-8147-A1E241A591A4.html" id="GUID-C03B56B7-336E-4538-8147-A1E241A591A4-d5029e4455-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.3</ph>
How the Library Works</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="GUID-416C2C82-0B70-46C9-9293-B50C640EE88D-d5029e4463" class="topicref" data-id="GUID-416C2C82-0B70-46C9-9293-B50C640EE88D" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-416C2C82-0B70-46C9-9293-B50C640EE88D.html" id="GUID-416C2C82-0B70-46C9-9293-B50C640EE88D-d5029e4463-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.3.1</ph>
TPL Table Configuration for CDC Devices</a></div></div></li><li role="treeitem"><div data-tocid="GUID-419F37C4-3466-47AA-A4B0-408E10E5C51F-d5029e4471" class="topicref" data-id="GUID-419F37C4-3466-47AA-A4B0-408E10E5C51F" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-419F37C4-3466-47AA-A4B0-408E10E5C51F.html" id="GUID-419F37C4-3466-47AA-A4B0-408E10E5C51F-d5029e4471-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.3.2</ph>
Detecting Device Attach</a></div></div></li><li role="treeitem"><div data-tocid="GUID-C935CD70-63BA-458F-9409-A35704E4B2F3-d5029e4479" class="topicref" data-id="GUID-C935CD70-63BA-458F-9409-A35704E4B2F3" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-C935CD70-63BA-458F-9409-A35704E4B2F3.html" id="GUID-C935CD70-63BA-458F-9409-A35704E4B2F3-d5029e4479-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.3.3</ph>
Opening the CDC Host Client Driver</a></div></div></li><li role="treeitem"><div data-tocid="GUID-AF01E89F-8A8A-42AD-B389-6ECAA7E29574-d5029e4487" class="topicref" data-id="GUID-AF01E89F-8A8A-42AD-B389-6ECAA7E29574" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-AF01E89F-8A8A-42AD-B389-6ECAA7E29574.html" id="GUID-AF01E89F-8A8A-42AD-B389-6ECAA7E29574-d5029e4487-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.3.4</ph>
Sending Class-specific Control Transfers</a></div></div></li><li role="treeitem" class="active"><div data-tocid="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC-d5029e4495" class="topicref" data-id="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC.html" id="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC-d5029e4495-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.3.5</ph>
Reading and Writing Data</a></div></div></li><li role="treeitem"><div data-tocid="GUID-28C7C149-CA09-47D4-A453-CD032B36FF86-d5029e4503" class="topicref" data-id="GUID-28C7C149-CA09-47D4-A453-CD032B36FF86" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-28C7C149-CA09-47D4-A453-CD032B36FF86.html" id="GUID-28C7C149-CA09-47D4-A453-CD032B36FF86-d5029e4503-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.2.3.6</ph>
Event Handling</a></div></div></li></ul></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-EDC35314-A96F-40A1-A936-AA327718D753-d5029e4511" class="topicref" data-id="GUID-EDC35314-A96F-40A1-A936-AA327718D753" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-EDC35314-A96F-40A1-A936-AA327718D753-d5029e4511-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-EDC35314-A96F-40A1-A936-AA327718D753.html" id="GUID-EDC35314-A96F-40A1-A936-AA327718D753-d5029e4511-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.3</ph>
Configuring the Library</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-C1E0B90A-BD18-436D-8E2F-C57386547691-d5029e4535" class="topicref" data-id="GUID-C1E0B90A-BD18-436D-8E2F-C57386547691" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-C1E0B90A-BD18-436D-8E2F-C57386547691-d5029e4535-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-C1E0B90A-BD18-436D-8E2F-C57386547691.html" id="GUID-C1E0B90A-BD18-436D-8E2F-C57386547691-d5029e4535-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.4</ph>
Library Interface</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-45D20AEA-112B-49EB-B6F1-A1D04C0C7817-d5029e4785" class="topicref" data-id="GUID-45D20AEA-112B-49EB-B6F1-A1D04C0C7817" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-45D20AEA-112B-49EB-B6F1-A1D04C0C7817-d5029e4785-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-45D20AEA-112B-49EB-B6F1-A1D04C0C7817.html" id="GUID-45D20AEA-112B-49EB-B6F1-A1D04C0C7817-d5029e4785-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.4.5</ph>
Files</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-C98FB301-D986-4257-B909-A7B2556FFDB6-d5029e4809" class="topicref" data-id="GUID-C98FB301-D986-4257-B909-A7B2556FFDB6" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-C98FB301-D986-4257-B909-A7B2556FFDB6-d5029e4809-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-C98FB301-D986-4257-B909-A7B2556FFDB6.html" id="GUID-C98FB301-D986-4257-B909-A7B2556FFDB6-d5029e4809-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.5</ph>
USB HID Host Mouse Driver Library</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-FB9881D7-8223-4A2D-8C6F-7A397E56857B-d5029e5060" class="topicref" data-id="GUID-FB9881D7-8223-4A2D-8C6F-7A397E56857B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-FB9881D7-8223-4A2D-8C6F-7A397E56857B-d5029e5060-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-FB9881D7-8223-4A2D-8C6F-7A397E56857B.html" id="GUID-FB9881D7-8223-4A2D-8C6F-7A397E56857B-d5029e5060-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.6</ph>
USB Hub Host Client Driver Library</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-D23DCE95-02B3-4C4D-B9F8-D2B170199D3A-d5029e5188" class="topicref" data-id="GUID-D23DCE95-02B3-4C4D-B9F8-D2B170199D3A" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-D23DCE95-02B3-4C4D-B9F8-D2B170199D3A-d5029e5188-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-D23DCE95-02B3-4C4D-B9F8-D2B170199D3A.html" id="GUID-D23DCE95-02B3-4C4D-B9F8-D2B170199D3A-d5029e5188-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">3.7</ph>
USB MSD Host Client Driver Library</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-6AFB98D6-0272-4DED-BBAB-39EECD8DDB5F-d5029e5397" class="topicref" data-id="GUID-6AFB98D6-0272-4DED-BBAB-39EECD8DDB5F" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-6AFB98D6-0272-4DED-BBAB-39EECD8DDB5F-d5029e5397-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-6AFB98D6-0272-4DED-BBAB-39EECD8DDB5F.html" id="GUID-6AFB98D6-0272-4DED-BBAB-39EECD8DDB5F-d5029e5397-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">4</ph>
USB Common Driver Interface</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d5029e5501" class="topicref backmatter backmatter_parent" data-id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d5029e5501-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B.html" id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d5029e5501-link">Microchip Information</a></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__GUID-C30B0C0C-245C-4281-A487-0AC52FA9F752"><h1 class="- topic/title title topictitle1" id="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__GUID-C30B0C0C-245C-4281-A487-0AC52FA9F752" style="">3.4.2.3.5 Reading and Writing Data</h1><div class="- topic/body body"><p class="- topic/p p">The application can use the <a class="- topic/xref xref" href="01159.html" target="_blank" rel="external noopener">USB_HOST_CDC_Read</a> and <a class="- topic/xref xref" href="01174.html" target="_blank" rel="external noopener">USB_HOST_CDC_Write</a> functions to transfer data to the attached CDC device.
            While calling these function, the client handle specifies the target CDC device and the
            event handler function to which the events should be sent. It is possible for multiple
            client to open the same instance of the CDC Host Client Driver instance and transfer
            data to the attached CDC Device. </p><p class="- topic/p p">Calling the <a class="- topic/xref xref" href="GUID-AB86B65F-EC20-4492-892F-1F705349B142.html">USB_HOST_CDC_Read</a> and <a class="- topic/xref xref" href="GUID-EB11E71D-6099-4757-8F55-9B7036D2CA74.html">USB_HOST_CDC_Write</a> functions while a read/write transfer is
            already in progress will cause the transfer result to be queued. If the transfer was
            successfully queued or scheduled, the <a class="- topic/xref xref" href="GUID-AB86B65F-EC20-4492-892F-1F705349B142.html">USB_HOST_CDC_Read</a> and <a class="- topic/xref xref" href="GUID-EB11E71D-6099-4757-8F55-9B7036D2CA74.html">USB_HOST_CDC_Write</a> functions will return a valid transfer
            handle. This transfer handle identifies the transfer request. The application clients
            can use the transfer handles to keep track of multiple queued transfers. When a transfer
            completes, the CDC Host Client Driver generates an event. The following tables shows the
            event and the event data associated with the event. </p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Table 1: Read</strong>
        </p><div class="table-container"><table class="- topic/table table" id="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__TABLE_SFG_P2J_P1C" data-ofbid="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__TABLE_SFG_P2J_P1C" data-cols="2"><caption></caption><colgroup><col style="width:20%"/><col style="width:80%"/></colgroup><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0">Function </td><td class="- topic/entry entry colsep-0 rowsep-0"><a class="- topic/xref xref" href="GUID-AB86B65F-EC20-4492-892F-1F705349B142.html">USB_HOST_CDC_Read</a></td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0">Event </td><td class="- topic/entry entry colsep-0 rowsep-0">USB_HOST_CDC_EVENT_READ_COMPLETE </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0">Event Data Type </td><td class="- topic/entry entry colsep-0 rowsep-0"><a class="- topic/xref xref" href="GUID-D952C424-7002-4420-8947-022D99F19386.html">USB_HOST_CDC_EVENT_READ_COMPLETE_DATA</a>
                        </td></tr></tbody></table></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Table 2: Write</strong></p><div class="table-container"><table class="- topic/table table" id="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__TABLE_TFG_P2J_P1C" data-ofbid="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__TABLE_TFG_P2J_P1C" data-cols="2"><caption></caption><colgroup><col style="width:20%"/><col style="width:80%"/></colgroup><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0">Function </td><td class="- topic/entry entry colsep-0 rowsep-0"><a class="- topic/xref xref" href="GUID-EB11E71D-6099-4757-8F55-9B7036D2CA74.html">USB_HOST_CDC_Write</a></td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0">Event </td><td class="- topic/entry entry colsep-0 rowsep-0">USB_HOST_CDC_EVENT_WRITE_COMPLETE </td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0">Event Data Type </td><td class="- topic/entry entry colsep-0 rowsep-0"><a class="- topic/xref xref" href="GUID-7730A334-3C28-4989-B458-30CAD970B2F3.html">USB_HOST_CDC_EVENT_WRITE_COMPLETE_DATA</a></td></tr></tbody></table></div><p class="- topic/p p">The event data contains information on the amount of data transferred, completion status
            and the transfer handle of the transfer. The following code shows an example of reading
            and writing data. </p><section class="- topic/section section" id="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__SECTION_HYP_NFJ_P1C" data-ofbid="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__SECTION_HYP_NFJ_P1C"><h2 class="- topic/title title sectiontitle">Example</h2>
            
            <div class="- topic/p p">
                <pre class="- topic/pre pre" id="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__PRE_O1L_4FJ_P1C" data-ofbid="GUID-1E4070D4-5DB5-4A80-A4A6-272ABB817ECC__PRE_O1L_4FJ_P1C"><em class="+ topic/ph hi-d/i ph i">/* In this code example, the USB_HOST_CDC_Read and the USB_HOST_CDC_Write
 * functions are used to read and write data. The event related to the read and
 * write operations are handled in the APP_USBHostCDCEventHandler function. */</em>

USB_HOST_CDC_EVENT_RESPONSE APP_USBHostCDCEventHandler
(
    USB_HOST_CDC_HANDLE cdcHandle,
    USB_HOST_CDC_EVENT event,
    <strong class="+ topic/ph hi-d/b ph b">void</strong> * eventData,
    uintptr_t context
)
{
    <em class="+ topic/ph hi-d/i ph i">/* This function is called when a CDC Host event has occurred. A pointer to
     * this function is registered after opening the device. */</em>

    USB_HOST_CDC_EVENT_WRITE_COMPLETE_DATA * writeCompleteEventData;
    USB_HOST_CDC_EVENT_READ_COMPLETE_DATA * readCompleteEventData;

    <strong class="+ topic/ph hi-d/b ph b">switch</strong>(event)
    {
        <strong class="+ topic/ph hi-d/b ph b">case</strong> USB_HOST_CDC_EVENT_WRITE_COMPLETE:

            <em class="+ topic/ph hi-d/i ph i">/* This means an application requested write has completed */</em>
            appData.writeTransferDone = <strong class="+ topic/ph hi-d/b ph b">true</strong>;
            writeCompleteEventData = (USB_HOST_CDC_EVENT_WRITE_COMPLETE_DATA *)(eventData);
            appData.writeTransferResult = writeCompleteEventData-&gt;result;
            <strong class="+ topic/ph hi-d/b ph b">break</strong>;

        <strong class="+ topic/ph hi-d/b ph b">case</strong> USB_HOST_CDC_EVENT_READ_COMPLETE:

            <em class="+ topic/ph hi-d/i ph i">/* This means an application requested write has completed */</em>
            appData.readTransferDone = <strong class="+ topic/ph hi-d/b ph b">true</strong>;
            readCompleteEventData = (USB_HOST_CDC_EVENT_READ_COMPLETE_DATA *)(eventData);
            appData.readTransferResult = readCompleteEventData-&gt;result;
            <strong class="+ topic/ph hi-d/b ph b">break</strong>;

        <strong class="+ topic/ph hi-d/b ph b">default</strong>:
            <strong class="+ topic/ph hi-d/b ph b">break</strong>;
    }

    <strong class="+ topic/ph hi-d/b ph b">return</strong>(USB_HOST_CDC_EVENT_RESPONE_NONE);
}

<strong class="+ topic/ph hi-d/b ph b">void</strong> APP_Tasks(<strong class="+ topic/ph hi-d/b ph b">void</strong>)
{
    <strong class="+ topic/ph hi-d/b ph b">switch</strong>(appData.state)
    {
        <em class="+ topic/ph hi-d/i ph i">/* The application states that wait for device attach and open the CDC
         * Host Client Driver are not shown here for brevity */</em>
        <strong class="+ topic/ph hi-d/b ph b">case</strong> APP_STATE_SEND_PROMPT_TO_DEVICE:

            <em class="+ topic/ph hi-d/i ph i">/* The prompt is sent to the device here. The write transfer done
             * flag is updated in the event handler. */</em>

            appData.writeTransferDone = <strong class="+ topic/ph hi-d/b ph b">false</strong>;
            result = USB_HOST_CDC_Write(appData.cdcHostHandle, NULL, prompt, 8);

            <strong class="+ topic/ph hi-d/b ph b">if</strong>(result == USB_HOST_CDC_RESULT_SUCCESS)
            {
                appData.state = APP_STATE_WAIT_FOR_PROMPT_SEND_COMPLETE;
            }
            <strong class="+ topic/ph hi-d/b ph b">break</strong>;

        <strong class="+ topic/ph hi-d/b ph b">case</strong> APP_STATE_WAIT_FOR_PROMPT_SEND_COMPLETE:

            <em class="+ topic/ph hi-d/i ph i">/* Here we check if the write transfer is done */</em>
            <strong class="+ topic/ph hi-d/b ph b">if</strong>(appData.writeTransferDone)
            {
                <strong class="+ topic/ph hi-d/b ph b">if</strong>(appData.writeTransferResult == USB_HOST_CDC_RESULT_SUCCESS)
                {
                    <em class="+ topic/ph hi-d/i ph i">/* Now to get data from the device */</em>
                    appData.state = APP_STATE_GET_DATA_FROM_DEVICE;
                }
                <strong class="+ topic/ph hi-d/b ph b">else</strong>
                {
                    <em class="+ topic/ph hi-d/i ph i">/* Try sending the prompt again. */</em>
                    appData.state = APP_STATE_SEND_PROMPT_TO_DEVICE;
                }
            }

            <strong class="+ topic/ph hi-d/b ph b">break</strong>;

        <strong class="+ topic/ph hi-d/b ph b">case</strong> APP_STATE_GET_DATA_FROM_DEVICE:

            <em class="+ topic/ph hi-d/i ph i">/* Here we request data from the device */</em>
            appData.readTransferDone = <strong class="+ topic/ph hi-d/b ph b">false</strong>;
            result = USB_HOST_CDC_Read(appData.cdcHostHandle, NULL, appData.inDataArray, 1);
            <strong class="+ topic/ph hi-d/b ph b">if</strong>(result == USB_HOST_CDC_RESULT_SUCCESS)
            {
                appData.state = APP_STATE_WAIT_FOR_DATA_FROM_DEVICE;
            }
            <strong class="+ topic/ph hi-d/b ph b">break</strong>;

        <strong class="+ topic/ph hi-d/b ph b">case</strong> APP_STATE_WAIT_FOR_DATA_FROM_DEVICE:

            <em class="+ topic/ph hi-d/i ph i">/* Wait for data from device. */</em>
            <strong class="+ topic/ph hi-d/b ph b">if</strong>(appData.readTransferDone)
            {
                <strong class="+ topic/ph hi-d/b ph b">if</strong>(appData.readTransferResult == USB_HOST_CDC_RESULT_SUCCESS)
                {
                    <em class="+ topic/ph hi-d/i ph i">/* Do something with the data here */</em>
                }
            }

            <strong class="+ topic/ph hi-d/b ph b">break</strong>;

        <strong class="+ topic/ph hi-d/b ph b">default</strong>:
            <strong class="+ topic/ph hi-d/b ph b">break</strong>;
    }
}</pre>
            </div>
        </section></div></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
  <div class="mchp-wh-footer">
    <div class="mchp-footer">
      <div class="mchp-footer-tier1">
        <div class="spacer"></div>
        <div class="mchp-footer-container">
          <div class="mchp-footer-links mchp-social-media-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.facebook.com/pages/Microchip-Technology-Inc/20320981741" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Facebook" src="oxygen-webhelp/template/resources/images/201016-corp-facebook.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.linkedin.com/company/microchip-technology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip LinkedIn" src="oxygen-webhelp/template/resources/images/201016-corp-linkedin.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://twitter.com/MicrochipTech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Twitter" src="oxygen-webhelp/template/resources/images/201016-corp-twitter.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.youtube.com/user/MicrochipTechnology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip YouTube" src="oxygen-webhelp/template/resources/images/201016-corp-youtube.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.instagram.com/microchiptechnologyinc/" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Instagram" src="oxygen-webhelp/template/resources/images/201016-corp-instagram.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.weibo.com/microchiptech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Weibo" src="oxygen-webhelp/template/resources/images/201016-corp-weibo.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.microchip.com/en-us/about/blog" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Blog" src="oxygen-webhelp/template/resources/images/201016-corp-blog.png"/>
                </a>
              </div>
            </div>
          </div>
          <div class="mchp-footer-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://www.microchip.com/about-us/contact-us" class="mchp-link__link">Contact</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information" class="mchp-link__link">Legal</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/privacy-policy" class="mchp-link__link">Privacy Policy</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/microchip-cookie-statement" class="mchp-link__link">Cookies</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://careers.microchip.com/" class="mchp-link__link">Careers</a>
                  <span class="mchp-link__separator"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="mchp-footer-newsletter">
            <div class="cmp-text">
              <p>Stay on the leading edge with our blog</p>
            </div>
            <div class="mchp-button-wrapper">
              <a role="button" href="https://www.microchip.com/en-us/about/blog" class="mchp-button mchp-button-regular solid">
                <span class="mchp-button__span">MicroSolutions</span>
              </a>
            </div>
          </div>
        </div>
        <div class="graphic">
          <img src="oxygen-webhelp/template/resources/images/footer-graphic.png"/>
        </div>
      </div>
      <div class="mchp-footer-tier2">
        <p class="mchp-copyright">© Copyright 1998-2022 Microchip Technology Inc. All rights reserved.</p>
      </div>
    </div>
  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-19"></script>
  <script>
    window.dataLayer = window.dataLayer || [];  
    function gtag(){dataLayer.push(arguments);}  
    gtag('js', new Date());   
    gtag('config', 'UA-2724382-19');
  </script>
  
  <script type="text/javascript">_satellite.pageBottom();</script><!-- Adobe Analytics -->
  <script type="text/javascript" src="mchp-js/prepend.js"></script><!-- Package for viewing PDFs on mobile devices -->
  
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
       
        </body>
</html>