<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>USB_DEVICE_Open Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00911.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00348.html" target="topic">USB Libraries Help</a> &gt; <a href="00239.html" target="topic">USB Device Libraries</a> &gt; <a href="00238.html" target="topic">USB Device Layer Library</a> &gt; <a href="00262.html" target="topic">Library Interface</a> &gt; b) Client Core Functions &gt; <a href="00911.html" target="topic">USB_DEVICE_Open Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony USB Stack </div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00213.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00986.html" target="topic">Previous</a> | <a href="00262.html" target="topic">Up</a> | <a href="00708.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: USB_DEVICE_Open@SYS_MODULE_INDEX@DRV_IO_INTENT Topic Title: USB_DEVICE_Open Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
USB_DEVICE_Open Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
This function opens the USB device layer instance specified by instance index and returns a handle. This handle must be provided to all other client operations to identify the caller and the instance of the USB device layer. An instance of the Device Layer can be opened only once. Trying to open the Device Layer more than once will return a invalid device layer handle.</p></div>
</div>
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><a href="00773.html" target="topic">USB_DEVICE_HANDLE</a> <strong><span style="color: #000000">USB_DEVICE_Open</span></strong>(<strong><span style="color: #000080">const</span></strong> SYS_MODULE_INDEX <strong><span style="color: #000000">instanceIndex</span></strong>, <strong><span style="color: #000080">const</span></strong> DRV_IO_INTENT <strong><span style="color: #000000">intent</span></strong>);</pre></div></div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This function must be called after USB device driver initialization and after the initialization of USB Device Layer.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table3">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
instanceIndex&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
USB device layer instance index&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
intent&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
This parameter is ignored. The Device Layer will always open in read/write and exclusive mode.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
If successful, returns a valid device layer handle. Otherwise, it returns <a href="00774.html" target="topic">USB_DEVICE_HANDLE_INVALID</a>.</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element13"><div class="Element12"><pre class="Element12"><i><span style="color: #008000">// This code example shows how the </span></i>
<i><span style="color: #008000">// USB Device Layer can be opened.</span></i>

<a href="00773.html" target="topic">USB_DEVICE_HANDLE</a> usbDeviceHandle;

<i><span style="color: #008000">// Before opening a handle, USB device must have been initialized </span></i>
<i><span style="color: #008000">// by calling USB_DEVICE_Initialize().</span></i>

usbDeviceHandle = USB_DEVICE_Open( <a href="00845.html" target="topic">USB_DEVICE_INDEX_0</a>, 
                                DRV_IO_INTENT_READWRITE );

<strong><span style="color: #000080">if</span></strong>(<a href="00774.html" target="topic">USB_DEVICE_HANDLE_INVALID</a> == usbDeviceHandle)
{
    <i><span style="color: #008000">//Failed to open handle.</span></i>
}
</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00348.html" target="topic">USB Libraries Help</a> &gt; <a href="00239.html" target="topic">USB Device Libraries</a> &gt; <a href="00238.html" target="topic">USB Device Layer Library</a> &gt; <a href="00262.html" target="topic">Library Interface</a> &gt; b) Client Core Functions &gt; <a href="00911.html" target="topic">USB_DEVICE_Open Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony USB Stack </div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00213.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00986.html" target="topic">Previous</a> | <a href="00262.html" target="topic">Up</a> | <a href="00708.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: USB_DEVICE_Open@SYS_MODULE_INDEX@DRV_IO_INTENT Topic Title: USB_DEVICE_Open Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>